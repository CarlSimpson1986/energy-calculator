<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Personal Energy & Macro Blueprint</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: Arial, sans-serif; background:#f4f4f4; margin:0; }
    .container {
      max-width:600px; margin:40px auto; background:#fff;
      padding:24px; border-radius:8px;
    }
    label { display:block; margin-top:16px; font-weight:bold; }
    input, select, button {
      width:100%; padding:10px; margin-top:6px;
    }
    button {
      margin-top:24px; background:#000; color:#fff;
      border:none; cursor:pointer;
    }
    .error { color:#b00020; margin-top:12px; }
    #results { display:none; margin-top:24px; }
  </style>
</head>

<body>
<div class="container">

<h1>Your Personal Energy & Macro Blueprint</h1>
<p><em>Your energy is your ultimate KPI.</em></p>

<label>Sex</label>
<select id="sex">
  <option value="">Select</option>
  <option value="male">Male</option>
  <option value="female">Female</option>
</select>

<label>Age</label>
<input type="number" id="age">

<label>Height (cm)</label>
<input type="number" id="height">

<label>Weight (kg)</label>
<input type="number" id="weight">

<label>Activity level</label>
<select id="activity_level">
  <option value="">Select</option>
  <option value="sedentary">Mostly sedentary</option>
  <option value="light">Lightly active</option>
  <option value="moderate">Moderately active</option>
  <option value="very_active">Very active</option>
</select>

<label>Goal</label>
<select id="goal">
  <option value="">Select</option>
  <option value="fat_loss">Fat loss</option>
  <option value="maintain">Maintain</option>
  <option value="muscle_gain">Muscle gain</option>
</select>

<label>Eating style</label>
<select id="nutrition_style">
  <option value="">Select</option>
  <option value="high_carb">High carb</option>
  <option value="balanced">Balanced</option>
  <option value="low_carb">Low carb</option>
</select>

<label>Meals per day</label>
<select id="meals_per_day">
  <option value="">Select</option>
  <option value="3">3</option>
  <option value="4">4</option>
  <option value="5">5</option>
</select>

<button id="generateBtn">Generate My Plan</button>

<div id="error" class="error"></div>

<div id="results">
  <p><strong>Calories:</strong> <span id="calories"></span></p>
  <p>Protein: <span id="protein"></span> g</p>
  <p>Carbs: <span id="carbs"></span> g</p>
  <p>Fats: <span id="fats"></span> g</p>
</div>

</div>

<script>
document.getElementById("generateBtn").onclick = function () {

  const v = id => document.getElementById(id).value;
  const error = document.getElementById("error");

  if (!v("sex") || !v("age") || !v("height") || !v("weight") ||
      !v("activity_level") || !v("goal") || !v("nutrition_style") || !v("meals_per_day")) {
    error.innerText = "Complete all fields.";
    return;
  }

  error.innerText = "";

  const sex = v("sex");
  const age = +v("age");
  const height = +v("height");
  const weight = +v("weight");

  let bmr = sex === "male"
    ? (10*weight + 6.25*height - 5*age + 5)
    : (10*weight + 6.25*height - 5*age - 161);

  const activity = {
    sedentary:1.2, light:1.375, moderate:1.55, very_active:1.725
  }[v("activity_level")];

  const goal = { fat_loss:0.8, maintain:1, muscle_gain:1.1 }[v("goal")];

  const calories = Math.round(bmr * activity * goal);
  const protein = Math.round(weight * 1.8);

  const fatPct = { high_carb:0.25, balanced:0.3, low_carb:0.45 }[v("nutrition_style")];
  const fats = Math.round((calories * fatPct) / 9);
  const carbs = Math.round((calories - (protein*4 + fats*9)) / 4);

  document.getElementById("results").style.display = "block";
  document.getElementById("calories").innerText = calories;
  document.getElementById("protein").innerText = protein;
  document.getElementById("carbs").innerText = carbs;
  document.getElementById("fats").innerText = fats;
};
</script>

</body>
</html>
