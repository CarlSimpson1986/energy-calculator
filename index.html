<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Personal Energy & Macro Blueprint</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 600px;
      margin: 40px auto;
      background: #ffffff;
      padding: 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }

    h1 {
      margin-top: 0;
      font-size: 26px;
    }

    p {
      color: #444;
      line-height: 1.5;
    }

    label {
      display: block;
      margin-top: 16px;
      font-weight: bold;
    }

    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 16px;
    }

    button {
      width: 100%;
      margin-top: 24px;
      padding: 14px;
      font-size: 18px;
      background: #000;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    button:hover {
      opacity: 0.9;
    }

    .error {
      color: #b00020;
      margin-top: 12px;
      font-weight: bold;
    }

    #results {
      display: none;
      margin-top: 32px;
      padding-top: 24px;
      border-top: 2px solid #eee;
    }

    ul {
      padding-left: 18px;
    }

    pre {
      background: #f9f9f9;
      padding: 12px;
      border-radius: 4px;
      white-space: pre-wrap;
    }

    .tagline {
      font-style: italic;
      color: #666;
      margin-top: -10px;
    }
  </style>
</head>
<body>

<div class="container">

  <h1>Your Personal Energy & Macro Blueprint</h1>
  <p class="tagline">Your energy is your ultimate KPI.</p>

  <p>
    This isn’t a generic calorie calculator.  
    It gives you a clear daily energy target and macro breakdown based on your goal and how you prefer to eat.
  </p>

  <!-- INPUTS -->

  <label>Sex</label>
  <select id="sex">
    <option value="">Select</option>
    <option value="male">Male</option>
    <option value="female">Female</option>
  </select>

  <label>Age (years)</label>
  <input type="number" id="age" min="16" max="80">

  <label>Height (cm)</label>
  <input type="number" id="height" min="140" max="220">

  <label>Weight (kg)</label>
  <input type="number" id="weight" min="40" max="200">

  <label>Activity level</label>
  <select id="activity_level">
    <option value="">Select</option>
    <option value="sedentary">
      Mostly sedentary (desk job, &lt;5k steps, little exercise)
    </option>
    <option value="light">
      Lightly active (1–3 sessions/week, 6–8k steps)
    </option>
    <option value="moderate">
      Moderately active (3–5 sessions/week, 8–12k steps)
    </option>
    <option value="very_active">
      Very active (6+ sessions/week, physical job, 12k+ steps)
    </option>
  </select>

  <label>Main goal</label>
  <select id="goal">
    <option value="">Select</option>
    <option value="fat_loss">Lose body fat</option>
    <option value="maintain">Maintain current weight</option>
    <option value="muscle_gain">Build muscle</option>
  </select>

  <label>Eating preference</label>
  <select id="nutrition_style">
    <option value="">Select</option>
    <option value="high_carb">Higher-carb</option>
    <option value="balanced">Balanced</option>
    <option value="low_carb">Lower-carb</option>
  </select>

  <label>Meals per day</label>
  <select id="meals_per_day">
    <option value="">Select</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
  </select>

  <button id="generateBtn">Generate My Plan</button>

  <div id="error" class="error"></div>

  <!-- RESULTS PLACEHOLDER -->

  <div id="results">
    <h2>Your Results</h2>

    <p><strong>Target Daily Energy:</strong> <span id="calories"></span> kcal</p>

    <ul>
      <li>Protein: <span id="protein"></span> g</li>
      <li>Carbohydrates: <span id="carbs"></span> g</li>
      <li>Fats: <span id="fats"></span> g</li>
    </ul>

    <h3>Example Day of Eating</h3>
    <pre id="meal_plan">Meal plan will appear here.</pre>
  </div>

</div>

<script>
  document.getElementById("generateBtn").addEventListener("click", function () {
    const fields = [
      "sex","age","height","weight",
      "activity_level","goal","nutrition_style","meals_per_day"
    ];

    let payload = {};
    let error = "";

    fields.forEach(id => {
      const el = document.getElementById(id);
      if (!el.value) {
        error = "Please complete all fields before continuing.";
      } else {
        payload[id] = el.value;
      }
    });

    if (error) {
      document.getElementById("error").innerText = error;
      return;
    }

    document.getElementById("error").innerText = "";

    // TEMP OUTPUT (until Azure is connected)
    document.getElementById("results").style.display = "block";
    document.getElementById("calories").innerText = "—";
    document.getElementById("protein").innerText = "—";
    document.getElementById("carbs").innerText = "—";
    document.getElementById("fats").innerText = "—";
    document.getElementById("meal_plan").innerText =
      "Your personalised plan will be generated here once the calculation engine is connected.";

    // This payload is EXACTLY what we’ll send to Azure next
    console.log("Prepared payload:", payload);
  });
</script>

</body>
</html>
